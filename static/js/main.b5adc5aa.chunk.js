(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{121:function(e,t){},128:function(e,t,a){},129:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),l=(a(90),a(91),a(13)),i=a(75),u=a.n(i),m=Object({NODE_ENV:"production",PUBLIC_URL:"/lets-watch-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_ENDPOINT||"https://lets-watch-backend.herokuapp.com/",s=Object(n.createContext)();function d(e){var t=e.children,a=Object(n.useState)(),o=Object(l.a)(a,2),c=o[0],i=o[1];Object(n.useEffect)((function(){i(u()(m))}),[]);return console.log("Socket Connection: ".concat(m)),r.a.createElement(s.Provider,{value:{socket:c,updateSocket:function(e){return i(e)}}},t)}var b=function(){return Object(n.useContext)(s)},f=Object(n.createContext)();function E(e){var t=e.children,a=Object(n.useState)(),o=Object(l.a)(a,2),c=o[0],i=o[1],u=Object(n.useState)(),m=Object(l.a)(u,2),s=m[0],d=m[1];return r.a.createElement(f.Provider,{value:{clientUsername:c,updateClientUsername:function(e){return i(e)},clientRoom:s,updateClientRoom:function(e){return d(e)}}},t)}var v=function(){return Object(n.useContext)(f)},p=a(167),g=a(160),h=Object(g.a)((function(e){return{root:{"& > *":{padding:e.spacing(1),margin:e.spacing(1)}}}}));var O=function(e){var t=e.username,a=e.setUsername,n=h();return r.a.createElement(p.a,{className:n.root,id:"standard-basic",value:t,label:"enter username...",onChange:function(e){a(e.target.value)}.bind(this)})},j=Object(g.a)((function(e){return{root:{"& > *":{padding:e.spacing(1),margin:e.spacing(1)}}}}));var w=function(e){var t=e.room,a=e.setRoom,n=j();return r.a.createElement(p.a,{className:n.root,id:"standard-basic",label:"enter room...",value:t,onChange:function(e){a(e.target.value)}.bind(this)})},y=a(168),C=a(10),S=Object(g.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(20),width:"25ch"}},button:{"& > *":{}}}}));var N=function(){var e=Object(C.e)(),t=S(),a=Object(n.useState)(""),o=Object(l.a)(a,2),c=o[0],i=o[1],u=Object(n.useState)("community"),m=Object(l.a)(u,2),s=m[0],d=m[1],f=b().socket,E=v(),p=E.updateClientUsername,g=E.updateClientRoom;return r.a.createElement("form",null,r.a.createElement("div",{className:t.root},r.a.createElement(O,{username:c,setUsername:i}),r.a.createElement(w,{room:s,setRoom:d}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(y.a,{className:t.button,variant:"contained",color:"primary",type:"submit",onClick:function(t){t.preventDefault(),f.emit("update-user",{user:c,room:s}),g(s),p(c),i(""),d(""),e.push("/room")}.bind(this),disabled:!(c&&s)},"Enter Room"))};var k=function(e){var t=e.id;Object(n.useEffect)((function(){if(window.YT)a();else{var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",window.onYouTubeIframeAPIReady=a;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}));var a=function(){new window.YT.Player("youtube-player-".concat(t),{videoId:t,events:{onReady:o}})},o=function(e){e.target.playVideo()};return r.a.createElement("div",null,r.a.createElement("div",{id:"youtube-player-".concat(t)}))};var P=function(e){var t=e.callback,a=void 0===t?function(e){return e}:t,o=Object(n.useState)(""),c=Object(l.a)(o,2),i=c[0],u=c[1],m=Object(g.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}))();return r.a.createElement("div",{className:"form-container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(i.repeat(1)),u("")},className:m.root,noValidate:!0,autoComplete:"off"},r.a.createElement(p.a,{id:"outlined-basic",label:"Youtube Link",variant:"outlined",value:i,onChange:function(e){return t=e.target.value,u(t);var t},required:!0}),r.a.createElement(y.a,{variant:"contained",style:{padding:"auto",width:"100px",margin:"10px",height:"50px"},color:"primary",type:"submit"},r.a.createElement("b",null,"Submit"))))},R=a(164);a(128);var T=function(e){e.routerProps;var t=Object(n.useState)(),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),m=u[0],s=u[1],d=b().socket;return Object(n.useEffect)((function(){d&&(d.on("update-clients",(function(e){e.message&&console.log(e.message),c(e.numClients)})),d.on("welcome-new-user-to-room",(function(e){console.log(e.message)})),d.on("user-joined-room",(function(e){console.log(e.message)})),d.on("user-left-room",(function(e){console.log(e.message)})),d.on("user-joined-room-failed",(function(e){console.log(e.message)})))})),r.a.createElement("div",{className:"screen"},m?r.a.createElement("div",null,r.a.createElement(k,{id:m})):null,r.a.createElement(R.a,{variant:"h6"},"Paste a video"),r.a.createElement(P,{callback:function(e){""!==e&&s(e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/)[7])}}),r.a.createElement("br",null),o>1?r.a.createElement(R.a,{variant:"subtitle1"},r.a.createElement("b",null,o," users")," are currently watching"):r.a.createElement(R.a,{variant:"subtitle1"},r.a.createElement("b",null,"1 user")," is currently watching"),r.a.createElement("br",null),r.a.createElement("br",null))};var x=function(){var e=v(),t=e.clientUsername,a=e.clientRoom;return r.a.createElement("div",{className:"App"},r.a.createElement(C.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(N,{routerProps:e})}}),t&&a?r.a.createElement(C.a,{exact:!0,path:"/room",render:function(e){return r.a.createElement(T,{routerProps:e})}}):r.a.createElement(C.a,{exact:!0,path:"/room",render:function(e){return r.a.createElement(N,{routerProps:e})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(37),U=(a(129),a(165)),D=a(166),I=a(76),W=a.n(I);function A(){var e=v().clientUsername;return r.a.createElement(y.a,{color:"inherit"},r.a.createElement("b",null,e))}function B(){var e=v().clientRoom;return r.a.createElement(y.a,{color:"inherit"},r.a.createElement("b",null,e))}var L=function(){var e=v(),t=e.clientUsername,a=e.clientRoom;return t&&a?r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement(B,null)):r.a.createElement(r.a.Fragment,null)};var Y=function(){var e=Object(g.a)((function(e){return{root:{background:"radial-gradient(circle, rgba(0,151,255,1) 0%, rgba(32,163,254,1) 100%)"},icon:{marginRight:e.spacing(5)},title:{flexGrow:1},button:{padding:"auto",margin:10,height:50}}}))();return r.a.createElement("div",{className:e.root},r.a.createElement(U.a,{position:"static"},r.a.createElement(D.a,null,r.a.createElement(W.a,{edge:"start",className:e.icon,color:"inherit","aria-label":"icon"}),r.a.createElement(R.a,{variant:"h5",className:e.title},r.a.createElement("b",null,"Let's Watch Together")),r.a.createElement(L,null))))};a(132);var F=function(){var e=Object(g.a)((function(e){return{root:{background:"radial-gradient(circle, rgba(0,151,255,1) 0%, rgba(32,163,254,1) 100%)"},appbar:{alignItems:"center"}}}))();return r.a.createElement("div",{className:e.root},r.a.createElement("footer",null,r.a.createElement(U.a,{position:"static",className:e.appbar},r.a.createElement(D.a,null,r.a.createElement(R.a,null,"Let's Watch \xa9 ",(new Date).getFullYear()," - Created by Stephen White & Champ Foronda")))))};c.a.render(r.a.createElement(E,null,r.a.createElement(d,null,r.a.createElement(_.a,{basename:"/lets-watch-frontend"},r.a.createElement(Y,null),r.a.createElement(x,null),r.a.createElement(F,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e,t,a){e.exports=a(133)},90:function(e,t,a){},91:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.b5adc5aa.chunk.js.map