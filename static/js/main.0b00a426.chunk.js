(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{127:function(e,t){},134:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),c=a.n(r),i=(a(92),a(93),a(19)),l=a(74),u=a(78),m=a(77),s=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){if(window.YT)e.loadVideo();else{var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",window.onYouTubeIframeAPIReady=e.loadVideo;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)}},e.loadVideo=function(){var t=e.props.id;e.player=new window.YT.Player("youtube-player-".concat(t),{videoId:t,events:{onReady:e.onPlayerReady}})},e.onPlayerReady=function(e){e.target.playVideo()},e.render=function(){return o.a.createElement("div",null,o.a.createElement("div",{id:"youtube-player-".concat(e.props.id)}))},e}return a}(o.a.PureComponent),d=a(175),b=a(174),p=a(167);var f=function(e){var t=e.callback,a=void 0===t?function(e){return e}:t,r=Object(n.useState)(""),c=Object(i.a)(r,2),l=c[0],u=c[1],m=Object(p.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}))();return o.a.createElement("div",{className:"form-container"},o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(l.repeat(1)),u("")},className:m.root,noValidate:!0,autoComplete:"off"},o.a.createElement(b.a,{id:"outlined-basic",label:"Youtube Link",variant:"outlined",value:l,onChange:function(e){return t=e.target.value,u(t);var t},required:!0}),o.a.createElement(d.a,{variant:"contained",style:{padding:"auto",width:"100px",margin:"10px",height:"50px"},color:"primary",type:"submit"},o.a.createElement("b",null,"Submit"))))},E=a(171),v=(a(97),a(75)),g=a.n(v),h=a(176),O=Object({NODE_ENV:"production",PUBLIC_URL:"/lets-watch-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_ENDPOINT||"https://lets-watch-backend.herokuapp.com/",w=Object(n.createContext)();function k(e){var t=e.children,a=Object(n.useState)(g()(O)),r=Object(i.a)(a,2),c=r[0],l=r[1],u=Object(n.useState)("community"),m=Object(i.a)(u,2),s=m[0],d=m[1],b=Object(n.useState)(Object(h.a)()),p=Object(i.a)(b,2),f=p[0],E=p[1];Object(n.useEffect)((function(){c.emit("update-nickname",f),c.emit("join-room",s)}));return console.log("Socket Connection: ".concat(O)),o.a.createElement(w.Provider,{value:{socket:c,updateSocket:function(e){return l(e)},socketRoom:s,updateSocketRoom:function(e){d(e),c.emit("join-room",e)},socketNickname:f,updateSocketNickname:function(e){E(e),c.emit("update-nickname",e)}}},t)}a(130).config();var j=function(e){e.routerProps;var t=Object(n.useState)(),a=Object(i.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),m=u[0],d=u[1],b=Object(n.useContext)(w),p=b.socket,v=b.socketRoom;return b.updateSocketRoom,b.socketNickname,b.updateSocketNickname,Object(n.useEffect)((function(){setInterval((function(){p.emit("getNumClients",v)}),500),p.on("updateClients",(function(e){e.message&&console.log(e.message),c(e.numClients)})),p.on("user-joined-room",(function(e){console.log(e.message)})),p.on("user-joined-room-failed",(function(e){console.log(e.message)}))}),[]),o.a.createElement("div",{className:"screen"},o.a.createElement(E.a,{variant:"h6"},"Paste a video"),o.a.createElement(f,{callback:function(e){""!=e&&d(e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/)[7])}}),o.a.createElement("br",null),r?o.a.createElement(E.a,{variant:"subtitle1"},o.a.createElement("b",null,r," users")," are currently watching"):o.a.createElement(E.a,{variant:"subtitle1"},o.a.createElement("b",null,"1 user")," is currently watching"),o.a.createElement("br",null),o.a.createElement("br",null),m?o.a.createElement(s,{id:m}):null)},y=a(10);var S=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(y.a,{exact:!0,path:"/",render:function(e){return o.a.createElement(j,{routerProps:e})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=a(47),C=(a(134),a(172)),P=a(173),T=a(76),R=a.n(T);var _=function(){var e=Object(p.a)((function(e){return{root:{background:"radial-gradient(circle, rgba(0,151,255,1) 0%, rgba(32,163,254,1) 100%)"},icon:{marginRight:e.spacing(5)},title:{flexGrow:1},button:{padding:"auto",margin:10,height:50}}}))();return o.a.createElement("div",{className:e.root},o.a.createElement(C.a,{position:"static"},o.a.createElement(P.a,null,o.a.createElement(R.a,{edge:"start",className:e.icon,color:"inherit","aria-label":"icon"}),o.a.createElement(E.a,{variant:"h5",className:e.title},o.a.createElement("b",null,"Let's Watch Together")),o.a.createElement(d.a,{color:"inherit"},o.a.createElement("b",null,"Room")),o.a.createElement(d.a,{color:"inherit"},o.a.createElement("b",null,"User")))))};a(137);var x=function(){var e=Object(p.a)((function(e){return{root:{background:"radial-gradient(circle, rgba(0,151,255,1) 0%, rgba(32,163,254,1) 100%)"},appbar:{alignItems:"center"}}}))();return o.a.createElement("div",{className:e.root},o.a.createElement("footer",null,o.a.createElement(C.a,{position:"static",className:e.appbar},o.a.createElement(P.a,null,o.a.createElement(E.a,null,"Let's Watch \xa9 ",(new Date).getFullYear()," - Created by Stephen White & Champ Foronda")))))};c.a.render(o.a.createElement(k,null,o.a.createElement(N.a,{basename:"/lets-watch-frontend"},o.a.createElement(_,null),o.a.createElement(S,null),o.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,a){e.exports=a(138)},92:function(e,t,a){},93:function(e,t,a){},97:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.0b00a426.chunk.js.map